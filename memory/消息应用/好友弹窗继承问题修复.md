# å¥½å‹å¼¹çª—ç»§æ‰¿é—®é¢˜ä¿®å¤

## ğŸ” é—®é¢˜è¯Šæ–­

### é”™è¯¯ç°è±¡
```
[Mobile Phone] å½“å‰å…¨å±€å¯¹è±¡çŠ¶æ€: 
{ImageConfigModal: 'object', FriendImageConfigModal: 'undefined', styleConfigManager: 'object'}
```

### æ ¹æœ¬åŸå› 
**JavaScriptç±»ç»§æ‰¿çš„æ ¹æœ¬é”™è¯¯**ï¼šå¥½å‹å¼¹çª—ç±»è¯•å›¾ç»§æ‰¿ä¸€ä¸ª**å®ä¾‹**è€Œä¸æ˜¯**ç±»**ï¼

```javascript
// é”™è¯¯çš„ç»§æ‰¿æ–¹å¼
window.ImageConfigModal = new ImageConfigModal(); // è¿™æ˜¯ä¸€ä¸ªå®ä¾‹
class FriendImageConfigModal extends ImageConfigModal { // è¯•å›¾ç»§æ‰¿å®ä¾‹ï¼
```

è¿™åœ¨JavaScriptä¸­æ˜¯ä¸å¯èƒ½çš„ï¼Œå› ä¸ºï¼š
1. `extends`å…³é”®å­—åªèƒ½ç»§æ‰¿**ç±»**ï¼Œä¸èƒ½ç»§æ‰¿**å®ä¾‹**
2. `window.ImageConfigModal`æ˜¯ä¸€ä¸ªå¯¹è±¡å®ä¾‹ï¼Œä¸æ˜¯ç±»æ„é€ å‡½æ•°
3. è¿™ä¼šå¯¼è‡´`ReferenceError`æˆ–è€…ç±»å®šä¹‰å¤±è´¥

## ğŸ”§ ä¿®å¤æªæ–½

### âœ… 1. åˆ†ç¦»ç±»å®šä¹‰å’Œå®ä¾‹åˆ›å»º

**ä¿®å¤å‰**:
```javascript
class ImageConfigModal {
  // ç±»å®šä¹‰
}

// ç›´æ¥åˆ›å»ºå®ä¾‹ï¼Œè¦†ç›–äº†ç±»
window.ImageConfigModal = new ImageConfigModal();
```

**ä¿®å¤å**:
```javascript
class ImageConfigModal {
  // ç±»å®šä¹‰
}

// å…ˆä¿å­˜ç±»ï¼Œå†åˆ›å»ºå®ä¾‹
window.ImageConfigModalClass = ImageConfigModal;
window.ImageConfigModal = new ImageConfigModal();
```

### âœ… 2. ä¿®å¤ç»§æ‰¿å…³ç³»

**ä¿®å¤å‰**:
```javascript
// é”™è¯¯ï¼šè¯•å›¾ç»§æ‰¿å®ä¾‹
class FriendImageConfigModal extends ImageConfigModal {
```

**ä¿®å¤å**:
```javascript
// æ­£ç¡®ï¼šç»§æ‰¿ç±»
class FriendImageConfigModal extends window.ImageConfigModalClass {
```

### âœ… 3. æ”¹è¿›æ£€æŸ¥æ¡ä»¶

**ä¿®å¤å‰**:
```javascript
if (typeof window.ImageConfigModal !== 'undefined') {
  // æ£€æŸ¥çš„æ˜¯å®ä¾‹ï¼Œä¸æ˜¯ç±»
}
```

**ä¿®å¤å**:
```javascript
if (typeof window.ImageConfigModalClass !== 'undefined') {
  // æ£€æŸ¥çš„æ˜¯ç±»ï¼Œç¡®ä¿å¯ä»¥ç»§æ‰¿
}
```

### âœ… 4. ä½¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°

**ä¿®å¤å‰**:
```javascript
if (condition) {
  class FriendImageConfigModal extends ... {
    // ç±»å®šä¹‰å¯èƒ½å› ä¸ºä½œç”¨åŸŸé—®é¢˜å¤±è´¥
  }
}
```

**ä¿®å¤å**:
```javascript
(function() {
  // ç«‹å³æ‰§è¡Œå‡½æ•°ç¡®ä¿ä»£ç æ‰§è¡Œ
  if (condition) {
    class FriendImageConfigModal extends ... {
      // ç±»å®šä¹‰åœ¨ç‹¬ç«‹ä½œç”¨åŸŸä¸­
    }
  }
})();
```

## ğŸ¯ æŠ€æœ¯åŸç†

### 1. JavaScriptç±»ç»§æ‰¿æœºåˆ¶
```javascript
// æ­£ç¡®çš„ç»§æ‰¿
class Parent {
  constructor() { this.name = 'parent'; }
}

class Child extends Parent { // Parentæ˜¯ç±»æ„é€ å‡½æ•°
  constructor() { super(); }
}

// é”™è¯¯çš„ç»§æ‰¿
const parentInstance = new Parent();
class Child extends parentInstance { // é”™è¯¯ï¼ä¸èƒ½ç»§æ‰¿å®ä¾‹
  constructor() { super(); }
}
```

### 2. ç±»ä¸å®ä¾‹çš„åŒºåˆ«
```javascript
class MyClass {
  constructor() {}
}

console.log(typeof MyClass);           // "function" (ç±»æ˜¯å‡½æ•°)
console.log(typeof new MyClass());     // "object"  (å®ä¾‹æ˜¯å¯¹è±¡)

// åªæœ‰å‡½æ•°ç±»å‹å¯ä»¥è¢«ç»§æ‰¿
class Child extends MyClass { }         // âœ… æ­£ç¡®
class Child extends new MyClass() { }   // âŒ é”™è¯¯
```

### 3. å…¨å±€å¯¹è±¡çš„æ­£ç¡®ç®¡ç†
```javascript
// æ–¹æ¡ˆ1ï¼šåªä¿å­˜ç±»
window.MyClass = MyClass;
const instance = new window.MyClass();

// æ–¹æ¡ˆ2ï¼šåŒæ—¶ä¿å­˜ç±»å’Œå®ä¾‹ï¼ˆæ¨èï¼‰
window.MyClass = MyClass;
window.myInstance = new MyClass();

// æ–¹æ¡ˆ3ï¼šé”™è¯¯æ–¹å¼
window.MyClass = new MyClass(); // è¦†ç›–äº†ç±»å®šä¹‰
```

## ğŸ§ª éªŒè¯æ–¹æ³•

### 1. æ§åˆ¶å°æ£€æŸ¥
åˆ·æ–°é¡µé¢åï¼Œåœ¨æ§åˆ¶å°æ‰§è¡Œï¼š
```javascript
console.log('ImageConfigModalClass:', typeof window.ImageConfigModalClass);
console.log('ImageConfigModalå®ä¾‹:', typeof window.ImageConfigModal);
console.log('FriendImageConfigModal:', typeof window.FriendImageConfigModal);
```

**é¢„æœŸè¾“å‡º**:
```
ImageConfigModalClass: function
ImageConfigModalå®ä¾‹: object
FriendImageConfigModal: object
```

### 2. ç»§æ‰¿å…³ç³»éªŒè¯
```javascript
console.log('å¥½å‹å¼¹çª—æ˜¯å¦ç»§æ‰¿è‡ªåŸå§‹å¼¹çª—ç±»:', 
  window.FriendImageConfigModal instanceof window.ImageConfigModalClass);
```

**é¢„æœŸè¾“å‡º**: `true`

### 3. æ–¹æ³•å¯ç”¨æ€§éªŒè¯
```javascript
console.log('å¥½å‹å¼¹çª—å¯ç”¨æ–¹æ³•:', Object.getOwnPropertyNames(window.FriendImageConfigModal.__proto__));
```

åº”è¯¥åŒ…å«çˆ¶ç±»çš„æ‰€æœ‰æ–¹æ³•ï¼Œå¦‚ï¼š`fileToBase64`, `formatBackgroundPosition`ç­‰ã€‚

## ğŸ”„ è°ƒè¯•æ—¥å¿—

ä¿®å¤ååº”è¯¥çœ‹åˆ°ä»¥ä¸‹æ—¥å¿—åºåˆ—ï¼š

```
[Image Config Modal] å›¾ç‰‡é…ç½®å¼¹çª—æ¨¡å—åŠ è½½å®Œæˆ
[Friend Image Config Modal] æ£€æŸ¥åˆå§‹åŒ–æ¡ä»¶...
[Friend Image Config Modal] ImageConfigModalClassç±»å‹: function
[Friend Image Config Modal] ImageConfigModalå®ä¾‹ç±»å‹: object
[Friend Image Config Modal] FriendImageConfigModalç±»å‹: undefined
[Friend Image Config Modal] å¼€å§‹å®šä¹‰å¥½å‹å¼¹çª—ç±»ï¼Œçˆ¶ç±»å·²å­˜åœ¨: function
[Friend Image Config Modal] å¥½å‹å›¾ç‰‡é…ç½®å¼¹çª—åˆå§‹åŒ–å®Œæˆ
[Friend Image Config Modal] å¼€å§‹åˆ›å»ºå¥½å‹å¼¹çª—å®ä¾‹
[Friend Image Config Modal] å¥½å‹å¼¹çª—å®ä¾‹åˆ›å»ºæˆåŠŸ: object
[Friend Image Config Modal] å¥½å‹å›¾ç‰‡é…ç½®å¼¹çª—æ¨¡å—åŠ è½½å®Œæˆ
```

## ğŸ‰ ä¿®å¤æ•ˆæœ

ä¿®å¤åçš„ç³»ç»Ÿæ¶æ„ï¼š

```
å…¨å±€å¯¹è±¡ç»“æ„:
â”œâ”€â”€ window.ImageConfigModalClass (function) - åŸå§‹å¼¹çª—ç±»
â”œâ”€â”€ window.ImageConfigModal (object) - åŸå§‹å¼¹çª—å®ä¾‹
â””â”€â”€ window.FriendImageConfigModal (object) - å¥½å‹å¼¹çª—å®ä¾‹
    â””â”€â”€ __proto__ â†’ ImageConfigModalClass.prototype
        â”œâ”€â”€ fileToBase64()
        â”œâ”€â”€ formatBackgroundPosition()
        â”œâ”€â”€ parseBackgroundPosition()
        â””â”€â”€ æ‰€æœ‰çˆ¶ç±»æ–¹æ³•
```

ç°åœ¨å¥½å‹å¼¹çª—å¯ä»¥ï¼š
1. **æ­£ç¡®ç»§æ‰¿çˆ¶ç±»** - è·å¾—æ‰€æœ‰çˆ¶ç±»æ–¹æ³•å’Œå±æ€§
2. **æ­£å¸¸å®ä¾‹åŒ–** - ä¸ä¼šå› ä¸ºç»§æ‰¿é”™è¯¯è€Œå¤±è´¥
3. **å®Œæ•´åŠŸèƒ½** - å›¾ç‰‡ä¸Šä¼ ã€æ‹–æ‹½ã€ç¼©æ”¾ç­‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
4. **ç‹¬ç«‹é…ç½®** - ç»´æŠ¤è‡ªå·±çš„å¥½å‹IDå’Œé…ç½®æ•°æ®

è¿™ä¸ªä¿®å¤è§£å†³äº†JavaScriptç±»ç»§æ‰¿çš„æ ¹æœ¬é—®é¢˜ï¼Œç¡®ä¿äº†å¥½å‹å¼¹çª—åŠŸèƒ½çš„æ­£å¸¸å·¥ä½œï¼
